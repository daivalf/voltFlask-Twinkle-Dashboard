{% extends "layouts/base.html" %}

{% block title %} Dashboard {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.16.9/xlsx.full.min.js"></script>

    <div class="py-4">
        <div class="dropdown">
            </div>
        </div>
    </div>
    
    <div class="row">
        <div class="col-12 mb-4">
            <div class="card bg-yellow-100 border-0 shadow">
                <div class="card-header d-sm-flex flex-row align-items-center flex-0">
                    <div class="d-block mb-3 mb-sm-0">
                        <div class="fs-5 fw-normal mb-2">Sales Value</div>
                        <h2 class="fs-3 fw-extrabold">Rp 11.220.200,00</h2>
                        <div class="small mt-2"> 
                            <span class="fw-normal me-2">Last Month</span>                              
                            <span class="fas fa-angle-up text-success"></span>                                   
                            <span class="text-success fw-bold"> 237.57%</span>
                        </div>
                    </div>
                </div>
                <div class="card-body p-2">
                    <div class="ct-chart-sales-value ct-double-octave ct-series-g"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-12 col-sm-6 col-xl-6 mb-4">
            <div class="card border-0 shadow">
                <div class="card-body">
                    <div class="row d-block d-xl-flex align-items-center">
                        <div class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                            <div class="icon-shape icon-shape-secondary rounded me-4 me-sm-0">
                                <svg class="icon" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z" clip-rule="evenodd"></path></svg>
                            </div>
                            <div class="d-sm-none">
                                <h2 class="fw-extrabold h5">Revenue</h2>
                                <h3 class="mb-1">Rp 7.896.420</h3>
                            </div>
                        </div>
                        <div class="col-12 col-xl-7 px-xl-0">
                            <div class="d-none d-sm-block">
                                <h2 class="h6 text-gray-400 mb-0">Revenue</h2>
                                <h3 class="fw-extrabold mb-2">Rp 7.896.420</h3>
                            </div>
                            <small class="d-flex align-items-center text-gray-500">
                                Nov 1 - Dec 31,  
                                <svg class="icon icon-xxs text-gray-500 ms-2 me-1" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM4.332 8.027a6.012 6.012 0 011.912-2.706C6.512 5.73 6.974 6 7.5 6A1.5 1.5 0 019 7.5V8a2 2 0 004 0 2 2 0 011.523-1.943A5.977 5.977 0 0116 10c0 .34-.028.675-.083 1H15a2 2 0 00-2 2v2.197A5.973 5.973 0 0110 16v-2a2 2 0 00-2-2 2 2 0 01-2-2 2 2 0 00-1.668-1.973z" clip-rule="evenodd"></path></svg>
                                IDN
                            </small> 
                            <div class="small d-flex mt-1">                               
                                <div>Since last month <svg class="icon icon-xs text-danger" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg><span class="text-danger fw-bolder">54%</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-12 col-sm-6 col-xl-6 mb-4">
            <div class="card border-0 shadow">
                <div class="card-body">
                    <div class="row d-block d-xl-flex align-items-center">
                        <div class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                            <div class="icon-shape icon-shape-primary rounded me-4 me-sm-0">
                                <svg class="icon" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"></path></svg>
                            </div>
                            <div class="d-sm-none">
                                <h2 class="h5">Average Income</h2>
                                <h3 class="fw-extrabold mb-1">Rp 10.924.042</h3>
                            </div>
                        </div>
                        <div class="col-12 col-xl-7 px-xl-0">
                            <div class="d-none d-sm-block">
                                <h2 class="h6 text-gray-400 mb-0">Average Income</h2>
                                <h3 class="fw-extrabold mb-2">Rp 10.924.042</h3>
                            </div>
                            <small class="d-flex align-items-center text-gray-500">
                                Jan 1 - Dec 31,  
                                <svg class="icon icon-xxs text-gray-500 ms-2 me-1" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM4.332 8.027a6.012 6.012 0 011.912-2.706C6.512 5.73 6.974 6 7.5 6A1.5 1.5 0 019 7.5V8a2 2 0 004 0 2 2 0 011.523-1.943A5.977 5.977 0 0116 10c0 .34-.028.675-.083 1H15a2 2 0 00-2 2v2.197A5.973 5.973 0 0110 16v-2a2 2 0 00-2-2 2 2 0 01-2-2 2 2 0 00-1.668-1.973z" clip-rule="evenodd"></path></svg>
                                IDN
                            </small> 
                            <div class="small d-flex mt-1">                               
                                <div>Since last year <svg class="icon icon-xs text-success" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z" clip-rule="evenodd"></path></svg><span class="text-success fw-bolder">22%</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-12 col-sm-6 col-xl-12 mb-4">
            <div class="card border-0 shadow">
                <div class="card-header d-sm-flex flex-row align-items-center flex-0">
                    <div class="d-block mb-3 mb-sm-0">
                        <div class="fs-5 fw-normal mb-2">Discount</div>
                        <h2 class="fs-3 fw-extrabold">208 Times</h2>
                        <!-- <div class="small mt-2"> 
                            <span class="fw-normal me-2">Rate From</span>                              
                            <span class="fas fa-angle-up text-success"></span>                                   
                            <span class="text-success fw-bold"> 237.57%</span>
                        </div> -->
                    </div>
                </div>
                <div class="card-body">
                    <div class="row d-xl-flex align-items-center">
                        <!-- Chart column -->
                        <div class="col-xl-6">
                            <div class="ct-chart-discount" style="width: 100%; height: 250px;"></div>
                        </div>
                        <!-- Text column -->
                        <div class="col-xl-4 px-xl-0">
                            <div class="d-none d-sm-block">
                                <h2 class="h6 text-gray-400 mb-0">Discount</h2>
                            </div>
                            <div class="small d-flex mt-1">                               
                                <div>A : New Arrival Discount (115 times)</div>
                            </div>
                            <div class="small d-flex mt-1">                               
                                <div>B : Monthly Discount (42 times)</div>
                            </div>
                            <div class="small d-flex mt-1">                               
                                <div>C : Old Stock Discount (50 times)</div>
                            </div>
                            <div class="small d-flex mt-1">                               
                                <div>D : Selected Item Discount (1 times)</div>
                            </div>
                        </div>
                        <div class="col-xl-2 px-xl-0">
                            <div class="d-none d-sm-block">
                                <h2 class="h6 text-gray-400 mb-0">Discount Rate</h2>
                            </div>
                            <div class="small d-flex mt-1">                               
                                <div>5 - 17%</div>
                            </div>
                            <div class="small d-flex mt-1">                               
                                <div>18 - 25%</div>
                            </div>
                            <div class="small d-flex mt-1">                               
                                <div>30 - 43%</div>
                            </div>
                            <div class="small d-flex mt-1">                               
                                <div>50%</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
       
        <!--<div class="col-12 col-sm-6 col-xl-4 mb-4">
            <div class="card border-0 shadow">
                <div class="card-body">
                    <div class="row d-block d-xl-flex align-items-center">
                        <div class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                            <div class="icon-shape icon-shape-tertiary rounded me-4 me-sm-0">
                                <svg class="icon" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                            </div>
                            <div class="d-sm-none">
                                <h2 class="fw-extrabold h5"> Bounce Rate</h2>
                                <h3 class="mb-1">50.88%</h3>
                            </div>
                        </div>
                        <div class="col-12 col-xl-7 px-xl-0">
                            <div class="d-none d-sm-block">
                                <h2 class="h6 text-gray-400 mb-0"> Bounce Rate</h2>
                                <h3 class="fw-extrabold mb-2">50.88%</h3>
                            </div>
                            <small class="text-gray-500">
                                Feb 1 - Apr 1
                            </small> 
                            <div class="small d-flex mt-1">                               
                                <div>Since last month <svg class="icon icon-xs text-success" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z" clip-rule="evenodd"></path></svg><span class="text-success fw-bolder">4%</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>-->
    
    <div class="row">
        <!--[Total Orders & Production] Start-->
        <div class="col-12 col-xl-6">
            <div class="col-12 px-0 mb-4">
                <div class="card border-0 shadow">
                    <div class="card-header d-flex flex-row align-items-center flex-0 border-bottom">
                        <div class="d-block">
                            <div class="h6 fw-normal text-gray mb-2">Total Order </div>
                            <h2 class="h3 fw-extrabold">1.177</h2>
                            <div class="small mt-2">                               
                                <span class="fas fa-angle-up text-success"></span>
                            </div>
                        </div>
                        <div class="d-block">
                            <div class="h6 fw-normal text-gray mb-2">Total Production </div>
                            <h2 class="h3 fw-extrabold">1,249</h2>
                            <div class="small mt-2">                               
                                <span class="fas fa-angle-up text-success"></span>                                   
                                <!--<span class="text-success fw-bold">18.2%</span>-->
                            </div>
                        </div>
                        <div class="d-block ms-auto">
                            <div class="d-flex align-items-center text-end mb-2">
                                <span class="dot rounded-circle bg-gray-800 me-2"></span>
                                <span class="fw-normal small">Production</span>
                            </div>
                            <div class="d-flex align-items-center text-end">
                                <span class="dot rounded-circle bg-secondary me-2"></span>
                                <span class="fw-normal small">Order</span>
                            </div>
                        </div>
                    </div>
                    <div class="card-body p-2">
                        <div class="ct-chart-ranking ct-golden-section ct-series-a"></div>
                    </div>
                </div>
            </div>
        </div>
            <!-- Selling Platform Usage Start-->
        <div class="col-12 col-xl-6">
            <div class="col-12 col-xxl-6 mb-4">
                <div class="card border-0 shadow">
                    <div class="card-header border-bottom d-flex align-items-center justify-content-between">
                        <h2 class="fs-5 fw-bold mb-0">Platform Usage</h2>
                         <!-- <a href="#" class="btn btn-sm btn-primary">See tasks</a>-->
                      </div>
                    <div class="card-body">
                        <!-- Project 1 -->
                        <div class="row mb-4">
                            <div class="col-auto">
                                <svg class="icon icon-sm text-gray-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path><path fill-rule="evenodd" d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path></svg>
                            </div>
                            <div class="col">
                                <div class="progress-wrapper">
                                    <div class="progress-info">
                                        <div class="h6 mb-0">Marketplace</div>
                                        <div class="small fw-bold text-gray-500"><span>519 Units</span></div>
                                    </div>
                                    <div class="progress mb-0">
                                        <div class="progress-bar bg-success" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 76%;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Project 2 -->
                        <div class="row align-items-center mb-4">
                            <div class="col-auto">
                                <svg class="icon icon-sm text-gray-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path><path fill-rule="evenodd" d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path></svg>
                            </div>
                            <div class="col">
                                <div class="progress-wrapper">
                                    <div class="progress-info">
                                        <div class="h6 mb-0">Manual Selling</div>
                                        <div class="small fw-bold text-gray-500"><span>566 Units</span></div>
                                    </div>
                                    <div class="progress mb-0">
                                        <div class="progress-bar bg-success" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 80%;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Project 3 -->
                        <div class="row align-items-center mb-4">
                            <div class="col-auto">
                                <svg class="icon icon-sm text-gray-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path><path fill-rule="evenodd" d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path></svg>
                            </div>
                            <div class="col">
                                <div class="progress-wrapper">
                                    <div class="progress-info">
                                        <div class="h6 mb-0">Stockist</div>
                                        <div class="small fw-bold text-gray-500"><span>92 Units</span></div>
                                    </div>
                                    <div class="progress mb-0">
                                        <div class="progress-bar bg-warning" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 20%;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--[Total Orders & Production] End-->
    </div>

    <!--Table Daerah Penjualan Start-->
    <div class="row">
        <div class="col-12 col-xl-12">
                <div class="col-12 mb-4">
                    <div class="card border-0 shadow">
                        <div class="card-header">
                            <div class="row align-items-center">
                                <div class="col">
                                    <h2 class="fs-5 fw-bold mb-0">Selling Area in Indonesia</h2>
                                </div>
                            </div>
                        </div>
                        <div class="table-responsive py-4">
<!-- Pagination -->
<nav class="mt-3">
    <ul class="pagination justify-content-end" id="paginationList">
        <!-- Previous Button -->
        <li class="page-item disabled">
            <a class="page-link" href="#" tabindex="-1">Previous</a>
        </li>
        <!-- Page Numbers (These will be dynamically generated) -->
        <!-- Next Button -->
        <li class="page-item">
            <a class="page-link" href="#">Next</a>
        </li>
    </ul>
</nav>

<table class="table align-items-center table-flush">
    <thead class="thead-light">
        <tr>
            <th class="border-bottom" scope="col">Province</th>
            <th class="border-bottom" scope="col">Category</th>
            <th class="border-bottom" scope="col">Sold Item</th>
            <th class="border-bottom" scope="col">Quantity</th>
        </tr>
    </thead>
    <tbody id="tableBody"></tbody>
</table>

<div class="align-items-end card border-0 shadow">
    <input type="file" id="fileInput" accept=".xlsx">
</div>

<script>
    let rows = [];
    let totalRows = 0;
    let fileSelected = false;
    document.getElementById('fileInput').addEventListener('change', async (event) => {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = async function (e) {
                const data = new Uint8Array(e.target.result);
                const workbook = XLSX.read(data, { type: 'array' });
                const worksheet = workbook.Sheets[workbook.SheetNames[0]];
                const tableBody = document.getElementById('tableBody');
                tableBody.innerHTML = '';

                rows = await XLSX.utils.sheet_to_json(worksheet, { header: 1 }); // Assign data to the global rows variable

                // Calculate totalRows
                totalRows = 1190;
                console.log(totalRows);

                // Calculate totalPages
                const rowsPerPage = 10;
                const totalPages = Math.ceil(totalRows / rowsPerPage);

                // Calculate current page (you can get this from user input or other logic)
                const currentPage = 1;

                const startIndex = (currentPage - 1) * rowsPerPage;
                const endIndex = Math.min(startIndex + rowsPerPage, totalRows);

                rows.forEach((row, rowIndex) => {
                    if (rowIndex >= 1 && rowIndex >= startIndex && rowIndex < endIndex) {
                        const tr = document.createElement('tr');
                        const columnsToShow = [11, 3, 14, 4]; // Indices of columns to show
                        columnsToShow.forEach((columnIndex) => {
                            const td = document.createElement('td');
                            td.textContent = row[columnIndex] || '';
                            tr.appendChild(td);
                        });
                        tableBody.appendChild(tr);
                    }
                });

                // Update pagination links
                updatePaginationLinks(currentPage, totalPages);
            };
            reader.readAsArrayBuffer(file);
        }
    });

    document.getElementById('fileInput').addEventListener('change', async (event) => {
                            const file = event.target.files[0];
                            if (file) {
                                fileSelected = true;
                                hideFileInput(); // Set the fileSelected flag
                                // Rest of your file handling logic...
                            }
                        });

function hideFileInput() {
    const fileInput = document.getElementById('fileInput');
    if (fileSelected) {
        fileInput.style.display = 'none';
    }
}

function updatePaginationLinks(currentPage, totalPages) {
    const paginationList = document.getElementById('paginationList');
    paginationList.innerHTML = ''; // Clear existing pagination links

    const maxVisiblePageLinks = 5; // You can adjust this number as needed
    let startPage = Math.max(currentPage - Math.floor(maxVisiblePageLinks / 2), 1);
    let endPage = Math.min(startPage + maxVisiblePageLinks - 1, totalPages);

    // Ensure that there are enough pages to fill maxVisiblePageLinks
    while (endPage - startPage + 1 < maxVisiblePageLinks) {
        if (startPage > 1) {
            startPage--;
        }
        if (endPage < totalPages) {
            endPage++;
        }
    }
    const previousLi = document.createElement('li');
    previousLi.className = 'page-item';
    if (currentPage === 1) {
        previousLi.classList.add('disabled');
    }
    const previousLink = document.createElement('a');
    previousLink.className = 'page-link';
    previousLink.href = 'javascript:void(0);';
    previousLink.textContent = 'Previous';
    previousLink.addEventListener('click', () => navigatePage(currentPage - 1, totalPages));
    previousLi.appendChild(previousLink);

    // Add the "1" link before the other page links
    if (startPage > 1) {
        const firstPageLi = document.createElement('li');
        firstPageLi.className = 'page-item';
        const firstPageLink = document.createElement('a');
        firstPageLink.className = 'page-link';
        firstPageLink.href = 'javascript:void(0);';
        firstPageLink.textContent = '1';
        firstPageLink.addEventListener('click', () => navigatePage(1, totalPages));
        firstPageLi.appendChild(firstPageLink);
        paginationList.appendChild(firstPageLi);
    }

    for (let i = startPage; i <= endPage; i++) {
        const pageLi = document.createElement('li');
        pageLi.className = 'page-item';
        if (i === currentPage) {
            pageLi.classList.add('active');
        }
        const pageLink = document.createElement('a');
        pageLink.className = 'page-link';
        pageLink.href = 'javascript:void(0);';
        pageLink.textContent = i;
        pageLink.addEventListener('click', () => navigatePage(i, totalPages));
        pageLi.appendChild(pageLink);
        paginationList.appendChild(pageLi);
    }

    // Add the "Next" link after the page links
    const nextLi = document.createElement('li');
    nextLi.className = 'page-item';
    if (currentPage === totalPages) {
        nextLi.classList.add('disabled');
    }
    const nextLink = document.createElement('a');
    nextLink.className = 'page-link';
    nextLink.href = 'javascript:void(0);';
    nextLink.textContent = 'Next';
    nextLink.addEventListener('click', () => navigatePage(currentPage + 1, totalPages));
    nextLi.appendChild(nextLink);
    paginationList.appendChild(nextLi);
    paginationList.insertBefore(previousLi, paginationList.firstChild);
}

    function navigatePage(pageNumber, totalPages) {
    if (pageNumber < 1 || pageNumber > totalPages) {
        return;
    }

    const tableBody = document.getElementById('tableBody');
    const rowsPerPage = 10;
    const startIndex = (pageNumber - 1) * rowsPerPage;
    const endIndex = Math.min(startIndex + rowsPerPage, totalRows);

    // Clear existing table content
    tableBody.innerHTML = '';

    rows.forEach((row, rowIndex) => {
        if (rowIndex >= 1 && rowIndex >= startIndex && rowIndex < endIndex) {
            const tr = document.createElement('tr');
            const columnsToShow = [11, 3, 14, 4]; // Indices of columns to show
            columnsToShow.forEach((columnIndex) => {
                const td = document.createElement('td');
                td.textContent = row[columnIndex] || '';
                tr.appendChild(td);
            });
            tableBody.appendChild(tr);
        }
    });

    // Update pagination links
    updatePaginationLinks(pageNumber, totalPages);
}

</script>
                    </div>
                </div>
        </div>
    </div>
</div>
<!--Table Daerah Penjualan End-->

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}{% endblock javascripts %}
